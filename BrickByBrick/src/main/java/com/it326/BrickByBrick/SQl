-- Account table
CREATE TABLE Account (
    account_id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    username VARCHAR2(50) UNIQUE NOT NULL,
    password VARCHAR2(255) NOT NULL,
    is_logged_in NUMBER(1) DEFAULT 0 CHECK(is_logged_in IN (0, 1))
);

-- Project table
CREATE TABLE Project (
    project_id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    account_id NUMBER NOT NULL,
    project_name VARCHAR2(100),
    is_completed NUMBER(1) DEFAULT 0 CHECK(is_completed IN (0, 1)),
    CONSTRAINT fk_account_project FOREIGN KEY(account_id) REFERENCES Account(account_id)
);

-- Task table
CREATE TABLE Task (
    task_id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    project_id NUMBER NOT NULL,
    task_name VARCHAR2(100),
    priority_level NUMBER(2,1),
    due_date DATE,
    is_completed NUMBER(1) DEFAULT 0 CHECK(is_completed IN (0, 1)),
    CONSTRAINT fk_project_task FOREIGN KEY(project_id) REFERENCES Project(project_id)
);

-- Journal Entry table
CREATE TABLE JournalEntry (
    entry_id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    account_id NUMBER NOT NULL,
    entry_date DATE DEFAULT SYSDATE,
    content CLOB,
    feeling_scale NUMBER(1,0),
    CONSTRAINT fk_account_journal FOREIGN KEY(account_id) REFERENCES Account(account_id)
);
